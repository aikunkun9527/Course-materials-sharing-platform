# ç®¡ç†å‘˜è´¦å·è¯´æ˜

## é—®é¢˜è¯´æ˜

ä¹‹å‰çš„SQLè„šæœ¬ä¸­ï¼Œç®¡ç†å‘˜è´¦å·çš„å¯†ç å“ˆå¸Œå€¼ä¸æ­£ç¡®ï¼Œå¯¼è‡´æ— æ³•æ­£å¸¸ç™»å½•ã€‚

## è§£å†³æ–¹æ¡ˆ

å·²æ›´æ–° `scripts/init-db.sql` æ–‡ä»¶ï¼Œæä¾›ä¸¤ç§æ–¹æ³•ï¼š

### æ–¹æ³•1: æ˜æ–‡å¯†ç ï¼ˆå¼€å‘ç¯å¢ƒï¼‰âœ… æ¨è

ç›´æ¥ä½¿ç”¨æ˜æ–‡å¯†ç  `admin123`ï¼Œé¦–æ¬¡ç™»å½•åç³»ç»Ÿä¼šè‡ªåŠ¨bcryptåŠ å¯†ã€‚

**ä¼˜ç‚¹**: ç®€å•æ–¹ä¾¿ï¼Œé€‚åˆå¼€å‘æµ‹è¯•
**ç¼ºç‚¹**: ä¸å¤Ÿå®‰å…¨ï¼ˆä»…å¼€å‘ç¯å¢ƒä½¿ç”¨ï¼‰

```sql
INSERT INTO users (email, password, username, role, bio, email_verified, status)
VALUES (
    'admin@course.com',
    'admin123',
    'ç³»ç»Ÿç®¡ç†å‘˜',
    'admin',
    'å¹³å°ç®¡ç†å‘˜è´¦å·',
    TRUE,
    1
) ON DUPLICATE KEY UPDATE id=id;
```

### æ–¹æ³•2: é¢„ç”Ÿæˆbcryptå“ˆå¸Œï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰âœ… å®‰å…¨

ä½¿ç”¨bcryptå“ˆå¸Œå€¼ï¼Œæ›´åŠ å®‰å…¨ã€‚

**ç”Ÿæˆå“ˆå¸Œ**:
```bash
cd backend
node scripts/generate-password.js
```

**ç„¶åå¤åˆ¶ç”Ÿæˆçš„å“ˆå¸Œå€¼åˆ°SQLè„šæœ¬**:
```sql
INSERT INTO users (email, password, username, role, bio, email_verified, status)
VALUES (
    'admin@course.com',
    '$2a$10$NVpTZQ5O5O5O5O5O5O5O5uK5O5O5O5O5O5O5O5O5O5O5O5O5O5O',
    'ç³»ç»Ÿç®¡ç†å‘˜',
    'admin',
    'å¹³å°ç®¡ç†å‘˜è´¦å·',
    TRUE,
    1
) ON DUPLICATE KEY UPDATE id=id;
```

## ä½¿ç”¨æ­¥éª¤

### å¼€å‘ç¯å¢ƒ

1. å¯åŠ¨æ•°æ®åº“:
```bash
cd docker
docker-compose up -d
```

2. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä¼šè‡ªåŠ¨æ‰§è¡Œinit-db.sqlï¼‰

3. è®¿é—® http://localhost:5173

4. ä½¿ç”¨ä»¥ä¸‹è´¦å·ç™»å½•:
- é‚®ç®±: `admin@course.com`
- å¯†ç : `admin123`

5. é¦–æ¬¡ç™»å½•åå»ºè®®ä¿®æ”¹å¯†ç 

### ç”Ÿäº§ç¯å¢ƒ

1. ç”Ÿæˆbcryptå“ˆå¸Œ:
```bash
cd backend
node scripts/generate-password.js
```

2. å¤åˆ¶ç”Ÿæˆçš„å“ˆå¸Œå€¼ï¼Œæ›¿æ¢SQLè„šæœ¬ä¸­çš„å¯†ç 

3. åœ¨ç”Ÿäº§æ•°æ®åº“æ‰§è¡ŒSQLè„šæœ¬

4. ä½¿ç”¨ç”Ÿæˆçš„å¯†ç ç™»å½•

## é»˜è®¤ç®¡ç†å‘˜è´¦å·

| å­—æ®µ | å€¼ |
|------|-----|
| é‚®ç®± | admin@course.com |
| å¯†ç  | admin123 |
| è§’è‰² | admin |
| çŠ¶æ€ | å·²æ¿€æ´» |

## å®‰å…¨å»ºè®®

1. âš ï¸ **å¼€å‘ç¯å¢ƒ**: é¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç 
2. âœ… **ç”Ÿäº§ç¯å¢ƒ**: å¿…é¡»ä½¿ç”¨bcryptå“ˆå¸Œå¯†ç 
3. ğŸ”’ **å®šæœŸæ›´æ¢**: å»ºè®®å®šæœŸæ›´æ¢ç®¡ç†å‘˜å¯†ç 
4. ğŸš« **ä¸è¦æ³„éœ²**: ä¸è¦å°†å¯†ç æäº¤åˆ°å…¬å¼€ä»“åº“

## å¯†ç ç”Ÿæˆè„šæœ¬

`backend/scripts/generate-password.js` å¯ä»¥ç”ŸæˆæŒ‡å®šå¯†ç çš„bcryptå“ˆå¸Œï¼š

```bash
# ç”Ÿæˆé»˜è®¤å¯†ç  admin123 çš„å“ˆå¸Œ
node backend/scripts/generate-password.js

# è¾“å‡ºç¤ºä¾‹:
# åŸå§‹å¯†ç : admin123
# Bcryptå“ˆå¸Œå€¼: $2a$10$NVpTZQ5O5O5O5O5O5O5O5uK5O5O5O5O5O5O5O5O5O5O5O5O5O5O
# SQL INSERTè¯­å¥: ...
```

---

*æ›´æ–°æ—¥æœŸ: 2025-12-26*
